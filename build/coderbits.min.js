/*! Coderbits 2.1.0 | (c) 2015 Pedro RogÃ©rio | MIT License */
!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof exports?module.exports=b:a.Coderbits=b(a)}(this,function(){"use strict";Function.prototype.hasOwnProperty("bind")||(Function.prototype.bind=function(){var a=this,b=arguments[0],c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(b,c.concat(Array.prototype.slice.call(arguments)))}});var a=function(b){return this&&this instanceof a?("string"==typeof b&&(b={key:b}),this.endpoint="https://coderbits.com/"+b.user+".json",this.container=b.container,void this.request()):new a(b)};return a.init=function(b){return new a(b)},a.prototype={jsonp:function(a,b,c){var d,e,f,g="jsonp_"+Math.round(1e5*Math.random());d=document.head||document.getElementsByTagName("head")[0],f=document.createElement("script"),f.type="text/javascript",e=f.cloneNode(),e.src=a+(a.indexOf("?")>=0?"&":"?")+"callback="+g,e.async=!0,d.appendChild(e),window[g]=function(a){b.call(c||window,a),d.removeChild(e),e=null,delete this.name}.bind(this)},loop:function(a,b){for(var c=0,d=a.length;d>c;)b(a[c],c),c+=1},create:function(a,b){var c,d=document.createElement(a);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},request:function(){this.jsonp(this.endpoint,function(a){this.attach(a)}.bind(this))},profile:function(a){var b=document.createTextNode(a.name),c=document.createTextNode('"'+a.title+'"'),d="https://www.gravatar.com/avatar/"+a.gravatar_hash,e=this.create("header",{id:"profile"}),f=this.create("h2",{id:"profile-username"}),g=this.create("a",{href:a.link}),h=this.create("img",{src:d,id:"profile-image"}),i=this.create("p",{id:"profile-title"});return f.appendChild(b),i.appendChild(c),g.appendChild(h),e.appendChild(g),e.appendChild(f),e.appendChild(i),e},badges:function(a){var b=a.link,c=a.image_link,d=a.name,e=this.create("a",{href:b,className:"badge-image"}),f=this.create("img",{src:c,alt:d,title:d});return e.appendChild(f),e},attach:function(a){var b=0,c=this.create("div",{id:"badges"}),d=this.create("a",{id:"more",href:a.link}),e=document.createTextNode("View all"),f=document.querySelector(this.container);f.appendChild(this.profile(a)),this.loop(a.badges,function(a){a.earned&&12>b&&1===a.level&&(c.appendChild(this.badges(a).cloneNode(!0)),b+=1)}.bind(this)),d.appendChild(e),f.appendChild(c),c.appendChild(d)}},a});