/*
--------------------------------
Coderbits Widget
--------------------------------
+ https://github.com/pinceladasdaweb/Coderbits-Widget
+ version 1.0.0
+ Copyright 2014 Pedro Rogerio
+ Licensed under the MIT license

+ Documentation: https://github.com/pinceladasdaweb/Coderbits-Widget
*/
var loadJSONP=function(a,b){"use strict";/*jslint plusplus: true */
var c,d,e=0;return c=b.head||b.getElementsByTagName("head")[0],d=b.createElement("script"),d.type="text/javascript",function(b,f,g){var h,i="jsonp_"+e++;b+=b.match(/\?/)?"&callback="+i:"?callback="+i,h=d.cloneNode(),h.src=b,a[i]=function(b){f.call(g||a,b),c.removeChild(h),h=null,delete a[i]},c.appendChild(h)}}(window,document),Coderbits=function(a,b){"use strict";var c={config:function(a){this.url="https://coderbits.com/"+a.user+".json",this.container=a.container},loop:function(a,b){for(var c=0,d=a.length;d>c;)b(a[c],c),c+=1},create:function(a,c){var d,e=b.createElement(a);for(d in c)c.hasOwnProperty(d)&&(e[d]=c[d]);return e},request:function(){var a=this;loadJSONP(a.url,function(b){a.attach(b)})},profile:function(a){var c=this,d=b.createTextNode(a.name),e=b.createTextNode('"'+a.title+'"'),f="http://www.gravatar.com/avatar/"+a.gravatar_hash,g=c.create("header",{id:"profile"}),h=c.create("h2",{id:"profile-username"}),i=c.create("a",{href:a.link}),j=c.create("img",{src:f,id:"profile-image"}),k=c.create("p",{id:"profile-title"});return h.appendChild(d),k.appendChild(e),i.appendChild(j),g.appendChild(i),g.appendChild(h),g.appendChild(k),g},badges:function(a){var b=this,c=a.link,d=a.image_link,e=a.name,f=b.create("a",{href:c,className:"badge-image"}),g=b.create("img",{src:d,alt:e,title:e});return f.appendChild(g),f},attach:function(a){var c=this,d=0,e=c.create("div",{id:"badges"}),f=c.create("a",{id:"more",href:a.link}),g=b.createTextNode("View all"),h=b.querySelector(c.container);h.appendChild(c.profile(a)),c.loop(a.badges,function(a){a.earned&&12>d&&1===a.level&&(e.appendChild(c.badges(a)),d++)}),f.appendChild(g),h.appendChild(e),e.appendChild(f)},init:function(a){c.config(a),c.request()}};return{init:c.init}}(window,document);